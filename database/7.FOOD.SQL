CREATE TABLE IF NOT EXISTS TB_TYPE_FOOD
(
    ID_TYPE_FOOD INT AUTO_INCREMENT PRIMARY KEY,
    ID_COMPANY VARCHAR(50),
    NAME_TYPE_FOOD VARCHAR(50) NOT NULL,
    STATE ENUM("PUBLIC","PRIVATE") DEFAULT "PUBLIC",
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    DELETED_AT TIMESTAMP DEFAULT NULL, -- เพิ่มคอลัมน์สำหรับเก็บวันที่ลบข้อมูล
    FOREIGN KEY (ID_COMPANY) REFERENCES TB_COMPANY (ID_COMPANY)
);

CREATE TABLE IF NOT EXISTS TB_FOOD
(
    ID_FOOD INT AUTO_INCREMENT PRIMARY KEY,
    ID_COMPANY VARCHAR(50),
    ID_TYPE_FOOD INT,
    NAME_FOOK VARCHAR(100) NOT NULL,
    DESCRIPTION VARCHAR(255) NOT NULL,
    IMAGE_FOOD VARCHAR(50) NOT NULL,
    COST DECIMAL(10,2) NOT NULL,
    PRICE DECIMAL(10.2) NOT NULL,
    STATE ENUM("PUBLIC","PRIVATE") DEFAULT "PUBLIC",
    SHOW_FOOD ENUM("ONLYUSER","ALL") DEFAULT "ONLYUSER",
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    DELETED_AT TIMESTAMP DEFAULT NULL, -- เพิ่มคอลัมน์สำหรับเก็บวันที่ลบข้อมูล
    FOREIGN KEY (ID_COMPANY) REFERENCES TB_COMPANY (ID_COMPANY),
    FOREIGN KEY (ID_TYPE_FOOD) REFERENCES TB_TYPE_FOOD (ID_TYPE_FOOD)
);

CREATE TABLE IF NOT EXISTS TB_GROUP_RESERVE_FOOD
(
    ID_GROUP_RESERVE_FOOD INT AUTO_INCREMENT PRIMARY KEY,
    ID_GROUP_RESERVE_COMPANY VARCHAR(50),
    ID_FOOD INT,
    DESCRIPTION VARCHAR(255) NOT NULL, 
    STATUS ENUM("PENDING", "REJECT", "APPROVE", "SUCCESS") DEFAULT "PENDING",
    STATUS_PAY ENUM("PENDING","PAY") DEFAULT "PENDING",
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    DELETED_AT TIMESTAMP DEFAULT NULL, -- เพิ่มคอลัมน์สำหรับเก็บวันที่ลบข้อมูล
    FOREIGN KEY (ID_GROUP_RESERVE_COMPANY) REFERENCES TB_GROUP_RESERVE_COMPANY (ID_GROUP_RESERVE_COMPANY),
    FOREIGN KEY (ID_FOOD) REFERENCES TB_FOOD (ID_FOOD)
);